<template>
    <lightning-card title="Reset Your Password">
        <template if:true={user}>
            <div class="slds-p-around_medium">
                <template if:false={successMessage}>
                    <lightning-input
                        label="New Password"
                        type="password"
                        value={newPassword}
                        onchange={handlePasswordChange}
                        class="slds-m-bottom_small"
                    >
                    </lightning-input>
                    <lightning-input
                        label="Confirm New Password"
                        type="password"
                        value={confirmPassword}
                        onchange={handleConfirmPasswordChange}
                        class="slds-m-bottom_medium"
                    >
                    </lightning-input>
                    <lightning-button
                        label="Reset Password"
                        variant="brand"
                        onclick={resetPassword}
                        class="slds-align_absolute-center"
                    >
                    </lightning-button>
                </template>
                <template if:true={errorMessage}>
                    <div class="slds-text-color_error slds-m-bottom_medium">
                        <lightning-icon icon-name="utility:error" alternative-text="Error" size="small" class="slds-m-right_x-small"></lightning-icon>
                        {errorMessage}
                    </div>
                </template>
                <template if:true={successMessage}>
                    <div class="slds-text-color_success slds-m-bottom_medium">
                        <lightning-icon icon-name="utility:success" alternative-text="Success" size="small" class="slds-m-right_x-small"></lightning-icon>
                        {successMessage}
                    </div>
                </template>
            </div>
        </template>

        <template if:false={user}>
            <div class="slds-p-around_medium slds-text-align_center">
                <lightning-icon icon-name="utility:lock" alternative-text="Lock" size="large" class="slds-m-bottom_medium"></lightning-icon>
                <p class="slds-text-heading_medium">Invalid or Expired Token</p>
                <p class="slds-text-body_regular">Please request a new password reset link.</p>
            </div>
        </template>
    </lightning-card>
</template>
